"""
本番設定ファイル

特徴量選択（Top 20）による過学習防止で改善
- 勝率: 66.7%
- 総リターン: +57.70%
- PF: 2.13
"""
from datetime import date

# =============================================================================
# 期間設定
# =============================================================================
TRAIN_START = date(2022, 1, 1)
TRAIN_END = date(2023, 12, 31)
TEST_START = date(2024, 1, 1)
TEST_END = date(2024, 6, 30)

# =============================================================================
# ラベル設定
# =============================================================================
LABEL_TAKE_PROFIT = 0.10   # 利確: +10%
LABEL_STOP_LOSS = 0.10     # 損切り: -10%
LABEL_HORIZON_DAYS = 20    # 最大保持期間: 20営業日

# =============================================================================
# ローリング学習設定
# =============================================================================
ROLLING_TRAIN_MONTHS = 6   # 学習期間: 直近6ヶ月
ROLLING_RETRAIN_FREQ = 'M' # 再学習頻度: 月次

# =============================================================================
# ファンダメンタルフィルタ設定
# =============================================================================
FUNDAMENTAL_FILTER = {
    'min_roe': 0.0,              # ROE > 0%（赤字企業除外）
    'min_market_cap': 100e9,     # 時価総額 > 100億円
}

# =============================================================================
# 流動性フィルタ設定
# =============================================================================
MIN_PRICE = 100
MAX_PRICE = 50000
MIN_TURNOVER = 1e8      # 1億円/日
MIN_VOLUME = 100000     # 10万株/日
LIQUIDITY_WINDOW = 20   # 20日平均

# =============================================================================
# 予測・バックテスト設定
# =============================================================================
SCORE_THRESHOLD = 0.55      # スコア閾値
MIN_SCORE_GAP = 0.02        # 最小スコア差
TOP_N_STOCKS = 1            # 上位1銘柄のみ選択
TOP_N_FEATURES = 20         # 特徴量選択: Top N（Noneで全特徴量使用）

# =============================================================================
# セクター一覧（yfinanceのsector）
# =============================================================================
SECTORS = [
    'Technology',
    'Financial Services',
    'Healthcare',
    'Consumer Cyclical',
    'Industrials',
    'Communication Services',
    'Consumer Defensive',
    'Energy',
    'Utilities',
    'Real Estate',
    'Basic Materials',
]
